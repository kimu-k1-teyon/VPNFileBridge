# roadmap.md（Project-Specific）

## 1. Roadmap Table
| Status | ID    | Item                    | Description                                                                    | DoD                                                                         |
| ------ | ----- | ----------------------- | ------------------------------------------------------------------------------ | --------------------------------------------------------------------------- |
| DONE   | R0-01 | 要件の最終固定          | 利用者、利用シーン、対象ファイル種別、最大ファイルサイズ、同時接続数を定義する | 承認済み要件一覧が `Docs/Specifications/R0-01-requirements.md` に記載される |
| DONE   | R0-02 | セキュリティ方針定義    | VPN 前提、認証方式、許可パス制御ルール、ログ保管期間を決める                   | セキュリティ方針が文書化され、禁止事項と例外条件が明文化される              |
| DONE   | R0-03 | 開発環境基準化          | Unity バージョン、サーバ実行環境、端末OSバージョン、ツールチェーンを固定する   | 全メンバーが同一手順で環境構築できる                                        |
| DONE   | R1-01 | Macサーバ雛形作成       | サーバプロセスの起動、設定読込、ヘルスチェックAPIを実装する                    | ローカル起動でヘルスチェックが 200 を返す                                   |
| DONE   | R1-02 | VPN接続基盤構築         | Mac 側 VPN 設定、クライアント接続手順、鍵配布手順を整備する                    | 4プラットフォームから VPN 接続成功を確認できる                              |
| DONE   | R1-03 | 認証API実装             | ログインAPI、トークン発行/更新、失効処理を実装する                             | 認証成功・失敗・失効が仕様どおり動作する                                    |
| DONE   | R1-04 | 許可パス制御実装        | 許可パスのホワイトリスト化とパストラバーサル対策を実装する                     | 許可外アクセスがすべて拒否される                                            |
| DONE   | R1-05 | アップロードAPI実装     | ファイル受信、サイズ検証、保存先決定、重複時ルールを実装する                   | 指定パスへの保存と異常系レスポンスが確認できる                              |
| DONE   | R1-06 | ダウンロードAPI実装     | ファイル存在確認、権限確認、ストリーム配信を実装する                           | 指定パスから正常にファイル取得できる                                        |
| DONE   | R1-07 | 監視ログ実装            | 接続・認証・アップロード・ダウンロード・エラーを構造化ログで記録する           | 主要イベントが追跡できるログ項目で出力される                                |
| DONE   | R1-08 | サーバテスト実装        | 単体/結合テストで認証、パス制御、転送APIを検証する                             | 重要ケースの自動テストが通過する                                            |
| TODO   | R2-01 | Unityプロジェクト初期化 | LTS版 Unity で共通プロジェクトを作成し、基本フォルダ構成を定義する             | 4プラットフォーム向けにプロジェクトが起動・ビルド可能                       |
| TODO   | R2-02 | 通信共通レイヤ実装      | API クライアント、認証ヘッダ、タイムアウト、リトライ基盤を実装する             | 全API呼び出しが共通レイヤ経由で実行される                                   |
| TODO   | R2-03 | 接続/ログイン画面実装   | サーバURL、認証情報入力、接続確認UIを実装する                                  | 接続成功/失敗がUI上で判別できる                                             |
| TODO   | R2-04 | パス指定UI実装          | 許可パス選択/入力、入力検証、保存済み候補を実装する                            | 不正パス入力時に送信前にブロックされる                                      |
| TODO   | R2-05 | アップロード機能実装    | ファイル選択、進捗表示、キャンセル、完了通知を実装する                         | 成功・失敗・キャンセル時の状態遷移が正しい                                  |
| TODO   | R2-06 | ダウンロード機能実装    | 保存先選択、進捗表示、完了通知、既存ファイル競合処理を実装する                 | 正常保存と競合時挙動が仕様どおり動作する                                    |
| TODO   | R2-07 | クライアントログ実装    | 端末側の操作ログ、通信エラー、再試行履歴を記録する                             | 問題発生時に端末ログで原因追跡できる                                        |
| TODO   | R2-08 | 例外/再試行制御実装     | ネットワーク断、タイムアウト、トークン期限切れ時の復帰処理を実装する           | 主要障害でアプリがクラッシュせず復旧導線がある                              |
| TODO   | R3-01 | Androidビルド対応       | 権限設定、署名設定、実機配布手順を整備する                                     | Android 実機で接続/転送が完了する                                           |
| TODO   | R3-02 | iOSビルド対応           | 証明書/プロビジョニング設定、実機検証手順を整備する                            | iOS 実機で接続/転送が完了する                                               |
| TODO   | R3-03 | macOSビルド対応         | macOS 向けビルド設定、権限確認、配布方法を整備する                             | macOS 端末で接続/転送が完了する                                             |
| TODO   | R3-04 | Windowsビルド対応       | Windows 向けビルド設定、実行環境確認、配布方法を整備する                       | Windows 端末で接続/転送が完了する                                           |
| TODO   | R3-05 | ビルド再現手順化        | 4プラットフォームのビルド手順と必要秘密情報を整理する                          | 新規環境で同手順により再現ビルドできる                                      |
| TODO   | R4-01 | E2E接続試験             | VPN 接続からログインまでを全プラットフォームで検証する                         | 試験表の全ケースが期待結果で完了する                                        |
| TODO   | R4-02 | E2E転送試験             | 小/中/大サイズのアップロード・ダウンロードを検証する                           | サイズ別の成功率と処理時間が記録される                                      |
| TODO   | R4-03 | アクセス制御試験        | 許可外パス、パストラバーサル、権限不足ケースを検証する                         | すべて拒否され、監査ログに記録される                                        |
| TODO   | R4-04 | 障害試験                | VPN切断、通信断、期限切れトークン、容量不足を検証する                          | 復旧手順またはユーザー通知が確認できる                                      |
| TODO   | R4-05 | 受け入れ判定            | overview の完了条件との適合性を最終確認する                                    | 完了条件チェックリストが全項目達成になる                                    |
| TODO   | R5-01 | 運用手順書作成          | サーバ起動停止、鍵更新、バックアップ、ログ確認手順を作成する                   | 運用担当者が手順書のみで定常運用できる                                      |
| TODO   | R5-02 | トラブルシュート整備    | 代表的な障害パターンと一次切り分け手順を作成する                               | 障害時の初動時間を短縮できる構成になる                                      |
| TODO   | R5-03 | リリースノート作成      | 既知制約、未実装項目、次フェーズ候補を記載する                                 | ステークホルダー向け共有資料として利用できる                                |

## 2. Next Task
- R2-01 Unityプロジェクト初期化（LTS版 Unity で共通プロジェクトを作成し、基本フォルダ構成を定義する）
- R2-02 通信共通レイヤ実装（API クライアント、認証ヘッダ、タイムアウト、リトライ基盤を実装する）
- R2-03 接続/ログイン画面実装（サーバURL、認証情報入力、接続確認UIを実装する）
